# 🚀 WT32-ETH01 網路配置系統

## 📌 系統簡介

WT32-ETH01 網路配置系統是一款基於 WT32-ETH01 開發板的雙網路（WiFi + 乙太網路）管理系統。透過 Web 介面，使用者可以輕鬆設定並管理裝置的網路連接模式，支援 AP 模式、WiFi 模式、乙太網路模式及雙網路模式。

## 📌 系統特性

- ✅ 支援四種網路模式：AP / WiFi / 乙太網路 / 雙網路
- ✅ Web 圖形化配置介面
- ✅ 支援 OTA 遠端燒錄韌體
- ✅ 支援 DHCP 與靜態 IP 設定
- ✅ 配置自動儲存於 SPIFFS
- ✅ 跨裝置跨瀏覽器相容
- ✅ 響應式設計（支援手機操作）

---

## 📌 系統設定步驟

### 1. 初始設定模式（AP 模式）
- WT32-ETH01 首次啟動或未設定網路時，自動進入 AP 模式
- 建立 WiFi AP：**SSID: WT32-ETH01_Config，密碼: 12345678**
- AP IP：**192.168.4.1**
- 使用者連接此 AP 並訪問 `http://192.168.4.1` 進入配置頁面

### 2. 正常操作模式
- 根據 SPIFFS 中儲存的配置，自動連接 WiFi 或乙太網路
- Web 服務器在連接的網路上運行
- 可透過裝置的 IP 地址訪問配置頁面

### 3. 配置恢復
- 若網路連接失敗或需重新設定，可透過以下方式恢復 AP 模式：
    - 長按裝置上的復位按鈕 10 秒
    - 或透過串口發送重置指令
    - 或透過網頁介面「恢復預設值」

---

## 📌 部署流程

### 1. 編譯與上傳韌體
- 使用 **Arduino IDE** 或 **PlatformIO**
- 安裝必要函式庫：
    - `WiFi`
    - `ETH`
    - `WebServer`
    - `ArduinoJson`
    - `SPIFFS`
    - `Update`
    - `WiFiUdp`
    - `ArduinoOTA`
- 開啟 `WT32-ETH01_Net.ino` 並上傳至裝置

### 2. 上傳網頁檔案至 SPIFFS
- 使用 **ESP32 SPIFFS Uploader** 或 PlatformIO 內建工具
- 將 `index.html` 上傳至 SPIFFS 根目錄
- 可選上傳其他靜態資源（CSS、JS、圖片）

### 3. 系統使用流程
1. 首次開機 → 連接 `WT32-ETH01_Config` WiFi
2. 瀏覽器訪問 `http://192.168.4.1`
3. 使用介面掃描 WiFi 或設定乙太網路
4. 選擇網路模式並儲存
5. 系統自動重啟並使用新設定連線

---

## 📌 OTA 遠端更新說明

### 網頁上傳方式：
1. 進入「系統設定」頁面
2. 點擊「啟動 OTA 模式」
3. 選擇 `.bin` 韌體檔案上傳
4. 上傳完成後系統自動重啟

### Arduino IDE 更新方式：
1. 工具 → 端口 → 網路端口
2. 選擇 `wt32-eth01.local:3232`
3. 點擊上傳進行 OTA 更新

> ⚠️ **注意：OTA 更新期間請勿斷電！**

---

## 📌 網路模式說明

| 模式 | 說明 | 適用場景 |
|------|------|----------|
| AP 模式 | 裝置作為熱點，供初始設定 | 首次設定、維修模式 |
| WiFi 模式 | 僅使用無線網路 | 移動環境、無網線場所 |
| 乙太網路模式 | 僅使用有線網路 | 固定安裝、穩定連線需求 |
| 雙網路模式 | 同時啟用 WiFi 與乙太網路 | 備援連線、負載平衡 |

---

## 📌 安全性建議

1. 初次使用後建議修改 AP 密碼
2. 可啟用 OTA 密碼（預設：`admin123`）
3. 建議設定靜態 IP 避免 IP 變動
4. 定期更新韌體以獲得安全性修復

---

## 📌 故障排除

### 1. 無法訪問 Web 介面
- 確認裝置是否進入 AP 模式
- 檢查裝置 IP 是否正確
- 重啟裝置後再次嘗試

### 2. WiFi 掃描無結果
- 確認天線連接正常
- 檢查周圍是否有可用 WiFi
- 確保裝置未處於純乙太網路模式

### 3. 乙太網路無法連接
- 檢查網線與路由器連接
- 確認 LAN8720 電路正常供電
- 檢查 IP 設定是否與網段相符

### 4. OTA 更新失敗
- 確認網路連線穩定
- 檢查韌體檔案格式正確（.bin）
- 確保 SPIFFS 空間足夠

---

## 📌 檔案結構

```sh
WT32-ETH01_Net/
├── WT32-ETH01_Net.ino     # 主韌體程式（Arduino 原始碼）
├── data/                  # SPIFFS 資料目錄（用於存放網頁檔案）
│   └── index.html         # SPIFFS 中使用的網頁檔案
├── README.md              # 系統說明與使用文件
└── .gitignore             # Git 忽略檔案設定
```

---

**🎯 總結：**  
本系統提供完整的 Web 配置介面，讓使用者能輕鬆管理 WT32-ETH01 的網路連接，並支援 OTA 遠端更新，適合各種嵌入式網路應用場景。

---